(function(g){var d=function(h){return typeof h==="undefined"};var f=function(h){return h===null};var e=function(h){return !d(h)&&!f(h)};var b=function(h){return d(h)||f(h)||h===""};var a=function(l,m,k){var h=l.data("options");var j=l.children("div.combo-text");var i;if(e(k)){g.each(h.options,function(n,o){if(k===o.value){i=o}})}if(d(i)){g.each(h.options,function(n,o){if(d(i)){i=o}if(m===o.text){i=o}})}if(e(i)){j.removeClass("selected-disabled-option").attr("title",i.text).text(i.text).data("text",i.text);if(i.disabled===true){j.addClass("selected-disabled-option")}l.data("selected-option",i);if(e(h.select)){h.select.call(l,i)}}};var c={init:function(h){return this.each(function(){if(e(h)&&e(h.options)){var i=g(this);i.empty().unbind().data("options",h);g('<div class="combo-text"></div>').appendTo(i);i.addClass("combo-button-normal pointer combo").hover(function(){i.removeClass("button-normal").addClass("combo-button-over")},function(){i.removeClass("button-over").addClass("combo-button-normal")}).click(function(n){var k=i.data("options");g(this).addClass("combo-open");var j=i.offset();var p=g("<div></div>").addClass("combo-options").css({position:"absolute",left:j.left+"px",top:(j.top+i.outerHeight()-1)+"px",width:(i.outerWidth()-2)+"px","overflow-y":"auto"});var q=0;var m=-1;if(e(k.maxHeight)){m=parseInt(k.maxHeight);if(m>0){p.css("max-height",m+"px")}}var o=g("<ul></ul>").appendTo(p);g.each(k.options,function(s,t){var v=g('<span class="combo-option-text"></span>').attr("title",t.text).text(t.text);var u=g('<span class="hidden"></span>').text(t.value);var r=g("<li></li>").addClass(t.optionClass).append(v).append(u).appendTo(o);if(t.disabled===true){r.addClass("unset disabled")}else{r.click(function(){g(".combo").removeClass("combo-open");a(i,t.text,t.value);g(".combo-glass-pane").click()}).hover(function(){g(this).addClass("pointer").css("background","#eaeef0")},function(){g(this).removeClass("pointer").css("background","#ffffff")})}if(!b(t.description)){g('<div style="float: right; line-height: 32px;" class="fa fa-question-circle"></div>').appendTo(r).qtip(g.extend({},{style:{classes:"nifi-tooltip"},show:{solo:true,effect:function(w){g(this).slideDown(100)}},hide:{effect:function(w){g(this).slideUp(100)}},position:{at:"bottom center",my:"top center",adjust:{y:5}}},{content:t.description,position:{at:"top right",my:"bottom left"}}))}q+=16});o.find("span.combo-option-text").each(function(){var r=g(this);var s=22;if(r.parent().children("div").length>0){s=34}if(m>0&&q>m){s+=20}r.width(i.outerWidth()-s)});var l=g('<div class="combo-glass-pane"></div>').one("click",function(){if(p.length!==0){p.find(".fa").each(function(){var s=g(this);if(s.data("qtip")){var r=s.qtip("api");r.destroy(true)}});p.remove();g(".combo").removeClass("combo-open")}g(this).remove()});g("body").append(p).append(l);n.stopPropagation()});g('<div class="combo-arrow fa fa-chevron-down"></div>').appendTo(i);if(e(h.selectedOption)){a(i,h.selectedOption.text,h.selectedOption.value)}else{a(i)}}})},getSelectedOption:function(){var h;this.each(function(){h=g(this).data("selected-option");return false});return h},setSelectedOption:function(h){return this.each(function(){a(g(this),h.text,h.value)})},setOptionEnabled:function(i,h){return this.each(function(){var k=g(this);var j=k.data("options");g.each(j.options,function(l,m){if(m.value===i.value){m.disabled=!h}})})},destroy:function(){return this.each(function(){g(this).empty().unbind().removeData();g("div.combo-glass-pane").click()})},close:function(){g("div.combo-glass-pane").click()}};g.fn.combo=function(h){if(c[h]){return c[h].apply(this,Array.prototype.slice.call(arguments,1))}else{return c.init.apply(this,arguments)}}})(jQuery);